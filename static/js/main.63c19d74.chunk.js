(this.webpackJsonpschedule=this.webpackJsonpschedule||[]).push([[0],{25:function(e,t,s){},26:function(e,t,s){},27:function(e,t,s){},29:function(e,t,s){},32:function(e,t,s){},33:function(e,t,s){},34:function(e,t,s){"use strict";s.r(t);var a=s(2),n=s.n(a),c=s(17),i=s.n(c),r=(s(25),s(5)),d=(s(26),s(27),s.p+"static/media/Logo.bf7ecc67.svg"),l=s(1);function o(){return Object(l.jsx)("div",{className:"navbar__container",children:Object(l.jsx)("div",{className:"nav__logo",children:Object(l.jsx)("img",{id:"logo",src:d,alt:""})})})}var u=s(18),h=(s(29),s(9)),j=s.n(h),m=function(e,t){switch(t.type){case"ADD":case"REMOVE":return{classes:t.payload,error:!1};case"ERROR":return{classes:null,error:!0};default:return e}},b=s(7),O=s(12),v=s(13),y=function(){function e(t,s,a,n){Object(O.a)(this,e),this.start={hour:t,minute:s,day:a,mdm:n,minutes:0},this.start.minutes=this.convert_to_minutes(this.start),this.end=this.add(0,40)}return Object(v.a)(e,[{key:"convert_to_minutes",value:function(t){var s=e.days.indexOf(t.day),a=t.hour;return 12!==t.hour&&"PM"===t.mdm&&(a+=12),60*a+t.minute+24*s*60}},{key:"getStart",value:function(){return this.start}},{key:"getEnd",value:function(){return this.end}},{key:"get_start_minutes",value:function(){return this.start.minutes}},{key:"get_end_minutes",value:function(){return this.convert_to_minutes(this.end)}},{key:"get_class_interval",value:function(){return[this.start.minutes,this.convert_to_minutes(this.end)]}},{key:"add",value:function(t,s){var a=60*t+s,n=(this.start.minutes+a)%e.max_minutes_week;return this.convert_to_format(n)}},{key:"convert_to_format",value:function(t){var s=Math.floor(t/e.max_minutes_day);t-=s*e.max_minutes_day;var a,n=Math.floor(t/60),c=t-60*n;return n>=12?(a="PM",n>12&&(n-=12)):a="AM",{hour:n,minute:c,mdm:a,day:e.days[s]}}},{key:"does_overlap",value:function(e){var t=e.get_class_interval(),s=this.get_class_interval();return t[0]-s[0]===t[1]-s[1]?Math.abs(t[0]-s[0])<40:Math.abs(t[0]-s[0])<40||Math.abs(t[1]-s[1])<40}}],[{key:"time_difference",value:function(e,t){return e.get_start_minutes()-t.get_start_minutes()}}]),e}();y.days=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],y.max_minutes_week=10080,y.max_minutes_day=1440;var _=function(){function e(t){Object(O.a)(this,e),this.classes=t.classes||{Monday:[],Tuesday:[],Wednesday:[],Thursday:[],Friday:[],Saturday:[],Sunday:[]},this.upcoming=t.upcoming||{},this.ongoing=t.ongoing||{},this.convert_to_object()}return Object(v.a)(e,[{key:"convert_to_object",value:function(){for(var e in this.classes)if(this.classes[e].length>0)for(var t=0;t<this.classes[e].length;t++){var s=this.classes[e][t];this.classes[e][t]=new y(s.start.hour,s.start.minute,s.start.day,s.start.mdm)}}},{key:"add_slots",value:function(e){for(var t=0;t<e.length;t++)if(this.does_overlap(e[t]))return!1;for(var s=0;s<e.length;s++){var a=e[s].getStart().day,n=0,c=!1;for(n=0;n<this.classes[a].length;n++)if(y.time_difference(e[s],this.classes[a][n])<0){this.classes[a].splice(n,0,e[s]),c=!0;break}c||this.classes[a].push(e[s])}return!0}},{key:"remove_slot",value:function(e){var t=e.day,s=e.minutes,a=0;for(a=0;a<this.classes[t].length;a++)if(s===this.classes[t][a].get_start_minutes())return this.classes[t].splice(a,1),!0;return!1}},{key:"does_overlap",value:function(t){for(var s=t.getStart().day,a=s===t.getEnd().day,n=e.days[(e.days.indexOf(s)-1+7)%7],c=e.days[(e.days.indexOf(s)+1)%7],i=0;i<this.classes[n].length;i++)if(t.does_overlap(this.classes[n][i]))return!0;for(var r=0;r<this.classes[s].length;r++)if(t.does_overlap(this.classes[s][r]))return!0;if(!a)for(var d=0;d<this.classes[c].length;d++)if(t.does_overlap(this.classes[c][d]))return!0;return!1}},{key:"get_upcoming_class",value:function(){return this.get_class(),this.upcoming}},{key:"get_ongoing_class",value:function(){return this.get_class(),this.ongoing}},{key:"get_class",value:function(){var t=new Date,s=e.days[(t.getDay()-1+7)%7],a=t.getHours(),n=a>=12?"PM":"AM";a>12&&(a-=12);for(var c,i=t.getMinutes(),r=new y(a,i,s,n),d=180,l=-1,o=0;o<this.classes[s].length;o++){var u=y.time_difference(this.classes[s][o],r);if(u>0&&u<d)l=o,d=u;else{if(u<=0&&u>=-40){var h;this.ongoing=(h={},Object(b.a)(h,s,this.classes[s][o]),Object(b.a)(h,"passed",-1*u),h),this.upcoming={},l=-1;break}this.ongoing={}}}l>-1?(this.ongoing={},this.upcoming=(c={},Object(b.a)(c,s,this.classes[s][l]),Object(b.a)(c,"remaining",d),c)):this.ongoing.passed||(this.upcoming={},this.ongoing={})}},{key:"get_latest_schedule",value:function(){return this.classes}}]),e}();_.days=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];var f={classes:JSON.parse(localStorage.getItem("classes"))?new _(JSON.parse(localStorage.getItem("classes"))):new _({}),error:!1},g=Object(a.createContext)(f),x=function(e){var t=e.children,s=Object(a.useReducer)(m,f),n=Object(r.a)(s,2),c=n[0],i=n[1];return Object(a.useEffect)((function(){localStorage.setItem("classes",JSON.stringify(c.classes))})),Object(l.jsx)(g.Provider,{value:{classes:c.classes,error:c.error,dispatch:i},children:t})};function p(e){var t=e.data[0],s=e.data[1],n=Object(a.useContext)(g),c=n.classes,i=n.dispatch;return Object(l.jsxs)("div",{className:"block__container",children:[Object(l.jsx)(u.a,{className:"close__icon",onClick:function(){j()({title:"Do you want to remove the class?",buttons:!0,icon:"info"}).then((function(e){e&&j()("Class has been removed!",{icon:"success"}).then((function(){c.remove_slot({day:t.day,minutes:t.minutes}),i({type:"REMOVE",payload:c})}))}))}}),Object(l.jsxs)("p",{children:[0===t.hour?"00":t.hour,":",t.minute<10?"0"+t.minute:t.minute," ",t.mdm," -"," "]}),Object(l.jsxs)("p",{children:[0===s.hour?"00":s.hour,":",s.minute<10?"0"+s.minute:s.minute," ",s.mdm]})]})}var N=s(10);function k(){var e=Object(a.useContext)(g).classes,t=Object(a.useState)({}),s=Object(r.a)(t,2),n=s[0],c=s[1],i=Object(a.useState)({}),d=Object(r.a)(i,2),u=d[0],h=d[1],j=(new Date).getDay();function m(e){for(var t=[],s=0;s<e.length;s++)t.push(b(e[s]));return t}function b(e){var t=e.getStart(),s=e.getEnd();return Object(l.jsx)(p,{data:[t,s]},e.get_start_minutes())}return Object(a.useEffect)((function(){var t=window.setInterval((function(){var t=e.get_ongoing_class(),s=e.get_upcoming_class();t.passed?(c(t),h({})):s.remaining&&(h(s),c({}))}),1e3);return function(){return window.clearInterval(t)}}),[n,u]),Object(l.jsxs)("div",{className:"schedule__container",children:[Object(l.jsx)(o,{}),Object(l.jsxs)("div",{className:"main",children:[Object(l.jsxs)("div",{className:"header",children:[Object(l.jsx)("div",{className:"title",children:Object(l.jsx)("p",{children:"Class schedule"})}),Object(l.jsx)("div",{className:"add__btn",children:Object(l.jsx)(N.b,{to:"/add",children:Object(l.jsx)("button",{className:"btn",children:"Add Class Schedule"})})})]}),Object(l.jsxs)("div",{className:"main__container",children:[Object(l.jsxs)("div",{className:"head",children:[Object(l.jsx)("p",{children:"Monday"}),Object(l.jsx)("p",{children:"Tuesday"}),Object(l.jsx)("p",{children:"Wednesday"}),Object(l.jsx)("p",{children:"Thursday"}),Object(l.jsx)("p",{children:"Friday"}),Object(l.jsx)("p",{children:"Saturday"}),Object(l.jsx)("p",{children:"Sunday"})]}),Object(l.jsxs)("div",{className:"blocks",children:[Object(l.jsx)("div",{className:1===j?"weekday monday today":"weekday monday",children:m(e.classes.Monday)}),Object(l.jsx)("div",{className:2===j?"weekday tuesday today":"weekday tuesday",children:m(e.classes.Tuesday)}),Object(l.jsx)("div",{className:3===j?"weekday wednesday today":"weekday wednesday",children:m(e.classes.Wednesday)}),Object(l.jsx)("div",{className:4===j?"weekday thursday today":"weekday wednesday",children:m(e.classes.Thursday)}),Object(l.jsx)("div",{className:5===j?"weekday friday today":"weekday friday",children:m(e.classes.Friday)}),Object(l.jsx)("div",{className:6===j?"weekday saturday today":"weekday saturday",children:m(e.classes.Saturday)}),Object(l.jsx)("div",{className:0===j?"weekday sunday today":"weekday saturday",children:m(e.classes.Sunday)})]})]}),n.passed&&Object(l.jsx)("div",{className:"info ongoing",children:Object(l.jsx)("div",{children:Object(l.jsxs)("p",{children:["Your class is going on - ",n.passed," minutes passed!"]})})}),u.remaining&&Object(l.jsx)("div",{className:"info upcoming",children:Object(l.jsx)("div",{children:Object(l.jsxs)("p",{children:["There is an upcoming class in ",function(e){if(e>=60){var t=Math.floor(e/60),s=e-60*t;return 0===s?t>1?"".concat(t," hours"):"an ".concat(t," hour"):t>1&&s>1?"".concat(t," hours ").concat(s," minutes"):t>1&&1===s?"".concat(t," hours ").concat(s," minute"):1===t&&1===s?"".concat(t," hour ").concat(s," minute"):"".concat(t," hour ").concat(s," minutes")}return"".concat(e,1===e?" minute!":" minutes!")}(u.remaining)]})})})]})]})}s(32);var w=s(3),S=s(20),M=s(4),C=(s(33),s(19));function E(){var e=Object(a.useState)({hour:"00",minute:0,mdm:"AM"}),t=Object(r.a)(e,2),s=t[0],n=t[1],c=Object(a.useState)([]),i=Object(r.a)(c,2),d=i[0],u=i[1],h=Object(a.useState)(!1),m=Object(r.a)(h,2),b=m[0],O=m[1],v=Object(w.f)(),_=Object(a.useContext)(g),f=_.classes,x=_.dispatch;Object(a.useEffect)((function(){window.addEventListener("click",(function(e){var t=e.target.className;"string"!==typeof t||t.includes("minute_")||t.includes("drop_")||O(!1)}))}),[]);var p=y.days;function N(e){O(!b);var t=e.target.className;"string"===typeof t?t.includes("minute_00")?n(Object(M.a)(Object(M.a)({},s),{},{minute:0})):t.includes("minute_20")?n(Object(M.a)(Object(M.a)({},s),{},{minute:20})):t.includes("minute_40")&&n(Object(M.a)(Object(M.a)({},s),{},{minute:40})):n(Object(M.a)(Object(M.a)({},s),{},{minute:0}))}function k(e){"am"===e.target.className?(n(Object(M.a)(Object(M.a)({},s),{},{mdm:"AM"})),12===s.hour&&n(Object(M.a)(Object(M.a)({},s),{},{hour:0,mdm:"AM"}))):"pm"===e.target.className&&n(Object(M.a)(Object(M.a)({},s),{},{mdm:"PM"}))}function E(e){var t=e.target.classList[1];d.includes(t)?u(d.filter((function(e){return e!==t}))):u([].concat(Object(S.a)(d),[t]))}return Object(l.jsxs)("div",{className:"class__container",children:[Object(l.jsx)(o,{}),Object(l.jsxs)("div",{className:"main",children:[Object(l.jsx)("div",{className:"title_class",children:Object(l.jsx)("p",{children:"Add class schedule"})}),Object(l.jsxs)("div",{className:"main__container_class",children:[Object(l.jsxs)("div",{className:"start__time",children:[Object(l.jsx)("div",{className:"start__title",children:Object(l.jsx)("p",{children:"Start time"})}),Object(l.jsxs)("div",{className:"actual__time",children:[Object(l.jsx)("input",{type:"text",onWheel:function(e){return e.target.blur()},onChange:function(e){var t=e.target.value;if(t.length<=2){var a=parseInt(t);isNaN(a)?n(Object(M.a)(Object(M.a)({},s),{},{hour:""})):a<=12&&("AM"===s.mdm&&12===a||n(Object(M.a)(Object(M.a)({},s),{},{hour:a})))}},value:s.hour}),Object(l.jsx)("p",{children:":"}),Object(l.jsx)("div",{className:"time_minute",children:Object(l.jsxs)("div",{className:b?"minute_dropdown drop":"minute_dropdown",children:[Object(l.jsxs)("div",{className:"minute minute_00 chosen_min",onClick:N,children:[0===s.minute?"00":s.minute,Object(l.jsx)(C.a,{className:b?"drop__icon idrop":"drop__icon"})]}),Object(l.jsx)("div",{className:"minute minute_20",onClick:N,children:Object(l.jsx)("p",{children:"20"})}),Object(l.jsx)("div",{className:"minute minute_40",onClick:N,children:Object(l.jsx)("p",{children:"40"})})]})})]}),Object(l.jsxs)("div",{className:"mdm",children:[Object(l.jsx)("div",{className:"AM"===s.mdm?"am chosen_mdm":"am",onClick:k,children:"AM"}),Object(l.jsx)("div",{className:"PM"===s.mdm?"pm chosen_mdm":"pm",onClick:k,children:"PM"})]})]}),Object(l.jsxs)("div",{className:"repeatOn",children:[Object(l.jsx)("div",{className:"repeat__title",children:"Repeat on"}),Object(l.jsx)("div",{className:"days",children:p.map((function(e,t){return Object(l.jsx)("div",{className:d.includes(e)?"day "+e+" chosen_day":"day "+e,onClick:E,children:e},t)}))})]})]}),Object(l.jsx)("div",{className:"save__btn",children:Object(l.jsx)("button",{className:"save",onClick:function(e){"00"===s.hour&&n(Object(M.a)(Object(M.a)({},s),{},{hour:0}));var t=[];d.forEach((function(e,a){t.push(new y(s.hour,s.minute,e,s.mdm))})),f.add_slots(t)?(x({type:"ADD",payload:f}),t.length>0?j()("Success!","Courses added!","success").then((function(){v(-1)})):v(-1)):j()("Error!","Courses overlap with others!","error")},children:"Save"})})]})]})}function A(){return Object(l.jsx)("div",{className:"app__container",children:Object(l.jsx)(N.a,{children:Object(l.jsxs)(w.c,{children:[Object(l.jsx)(w.a,{exact:!0,path:"/",element:Object(l.jsx)(k,{})}),Object(l.jsx)(w.a,{exact:!0,path:"/add",element:Object(l.jsx)(E,{})})]})})})}i.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(x,{children:Object(l.jsx)(A,{})})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.63c19d74.chunk.js.map